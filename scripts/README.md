# å¿«é€Ÿå¼€å§‹ï¼šå†å²æ•°æ®è¿ç§»

## ä¸€é”®è¿è¡Œè¿ç§» ğŸš€

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/zhaoyu/Projects/JakartaBackend

# è¿è¡Œè¿ç§»ï¼ˆä¼šæç¤ºç¡®è®¤ï¼‰
python scripts/simple_migrate_update_count.py
```

å°±è¿™ä¹ˆç®€å•ï¼è„šæœ¬ä¼šï¼š
1. âœ… è‡ªåŠ¨æ£€æŸ¥æ•°æ®åº“
2. âœ… è®¡ç®—æ¯ä¸ª DN çš„è®°å½•æ•°
3. âœ… æ˜¾ç¤ºå°†è¦æ›´æ–°çš„ç»Ÿè®¡ä¿¡æ¯
4. âš ï¸  **è¯¢é—®ç¡®è®¤** - è¾“å…¥ `yes` ç»§ç»­
5. âœ… æ‰§è¡Œæ›´æ–°
6. âœ… è‡ªåŠ¨éªŒè¯ç»“æœ

## æƒ³å…ˆçœ‹çœ‹ä¼šæ”¹ä»€ä¹ˆï¼Ÿ

ä½¿ç”¨é«˜çº§è„šæœ¬çš„ dry-run æ¨¡å¼ï¼š

```bash
# åªé¢„è§ˆï¼Œä¸ä¿®æ”¹æ•°æ®
python scripts/migrate_update_count.py --dry-run
```

## å¦‚æœå‡ºç°é—®é¢˜

1. **ç¡®ä¿ç¯å¢ƒå˜é‡å·²è®¾ç½®**
   ```bash
   echo $DATABASE_URL  # åº”è¯¥æ˜¾ç¤ºæ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
   ```

2. **ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ**
   ```bash
   source .venv/bin/activate
   ```

3. **æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯**
   å·²åŒ…å«åœ¨è„šæœ¬è¾“å‡ºä¸­

## æ›´å¤šä¿¡æ¯

è¯¦ç»†æ–‡æ¡£ï¼š`docs/MIGRATION_UPDATE_COUNT.md`

## å·²æä¾›çš„è¿ç§»å·¥å…·

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `scripts/simple_migrate_update_count.py` | **æ¨è** - ç®€å•äº¤äº’å¼è„šæœ¬ |
| `scripts/migrate_update_count.py` | é«˜çº§é€‰é¡¹ï¼ˆdry-runã€verboseï¼‰ |
| `scripts/migrate_update_count.sql` | SQL è„šæœ¬ï¼ˆç›´æ¥æ•°æ®åº“æ“ä½œï¼‰ |

